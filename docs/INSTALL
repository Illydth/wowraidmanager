INSTALLATION OF WRM 4.0.x:
----------------------------------
Note: If you are installing WRM 4.0 for the first time (i.e. you have not already upgraded
from WRM 3.x to 4.0) please see INSTALL_4.0 FIRST.  DO NOT FOLLOW THESE INSTRUCTIONS OR
YOU WILL HOSE YOUR INSTALLTION BADLY and potentially unrecoverably.

If you are simply upgrading an already installed WRM 4.x installation, please continue.

============================
Quick Installation
============================

Installation of 4.0.4:
-----------------------
* Unpackage the files from this archive into a directory on your local machine.
* Upload the entire contents of this archive to your web host, including your config.php file,
	and including the WRM directory.  MAKE SURE TO UPLOAD TO A CLEAN DIRECTORY.  DO NOT
	and I repeat, DO NOT upload over the top of an existing WRM installation.  This is a rule
	for all 4.0 releases and things rapidly change and whole sections of code are getting 
	moved from place to place. 
* Change the Ownership of all files to match that of your web server.  
* Change the permissions of the following directories and files to be writable by your
	web server user:
	* config.php (see below)
	* cache/ (and all below directories)
* Open a Database Management Tool (like phpMyAdmin).
* While still in the Database Management Tool, please create a new database for your
	new installation.
* Open a web browser and go to your WRM installation (e.g. http://www.yourdomain.com/wrm)
* Choose your installation method (ALWAYS INSTALL) and follow the steps to install your 
	WoW Raid Manager server.  
* At the end of the installation please remove your Install directory (delete it completely)
* Change the permissions on your config.php file back to read only to the world (you can 
	leave it writable by your web server if you so choose, but it is recommended that
	you make it read only...(400 permissions in Unix).  Keep the permissions of the other
	files and folders listed above writable.
	
Please see phpRaid_install_doc.pdf for more information.

NOTE on Config.php: Note that the config.php file no longer ships with the software.  
Generally it should be created on the fly by the installation program shipping with WRM but 
in some special cases we have found that the config file is NOT created by the installation 
and the software has problems when being executed.  If, after installation, you do not have
a valid config.php file in your WRM Root Directory, please create one in the following format:

<?php
/*
#**********************************************#
#                                              #
#     auto-generated configuration file        #
#     WoW Raid Manager 3.5.0                   #
#     date: 2008-09-05 - 16:48:10              #
#   Do not change anything in this file!       #
#                                              #
#**********************************************#
*/

global $phpraid_config;
$phpraid_config['db_name'] = '<name of database>';
$phpraid_config['db_host'] = '<name of database host>';
$phpraid_config['db_user'] = '<database login user ID>';
$phpraid_config['db_pass'] = '<database login user password>';
$phpraid_config['db_prefix'] = 'wrm_'; #(Change this only if you have changed the prefix in installation).
$phpraid_config['eqdkp_db_name'] = '';
$phpraid_config['eqdkp_db_host'] = '';
$phpraid_config['eqdkp_db_user'] = '';
$phpraid_config['eqdkp_db_pass'] = '';
$phpraid_config['eqdkp_db_prefix'] = '';
?>

It is safe to leave the eqdkp configuration blank for the moment.  Please see "eqdkp_link.htm" 
in the docs directory for more information on linking WRM with eqdkp.

"Quick" Upgrade from 4.0.x to 4.0.4
-----------------------------------
IF YOU ARE UPGRADING FROM 3.X or 4.0 BETA TO 4.0.3  YOU SHOULD NOT BE FOLOWING THESE
INSTRUCTIONS.  SEE BELOW.

If you are already on a 4.0.x release (4.0.0, 4.0.1, 4.0.2, 4.0.3) then you can follow this process
to upgrade your installation to 4.0.4.

NOTE: If you have already applied all of the WRM fixes in the Patch Thread on the Support forum
("Current Patch Status...") then you likely already have all the SQL files you need already 
executed.  Before running any SQL in the below instructions, please identify what you have already
executed.  If, when running an SQL, you get an error about duplicate primary keys or such, you've 
probably already run that SQL in the past and have no need to run it again.

As always, due to updates to the default template, go into your configuration section and switch
back to using the "default" template before you perform this upgrade, it is unlikely that any
other templates will work properly for you till they are correctly updated for 4.0.4.

* Unpackage the files from this archive into a directory on your local machine.
* Open your FTP program and copy down your config.php file to your locally unpacked archive.
* Make sure a second time that you have copied down your config.php file or be prepared to
	remake it by hand.
* DELETE all files and folders inside your current WRM 4.0.x installation directory.  
	Ensure that all files and folders from any prior WRM release version have been completely 
    deleted from your WRM directory on your host (NOT LOCAL).  
* Upload the entire contents of this archive to your web host, including your config.php file,
	and including the WRM directory.  MAKE SURE TO UPLOAD TO A CLEAN DIRECTORY.  DO NOT
	and I repeat, DO NOT upload over the top of an existing WRM installation.  This is a rule
	for all 4.0 releases and things rapidly change and whole sections of code are getting 
	moved from place to place. 
* Change the Ownership of all files to match that of your web server.  
* Change the permissions of the following directories and files to be writable by your
	web server user:
	* config.php (see below)
	* cache/ (and all below directories)
* Open a Database Management Tool (like phpMyAdmin) and execute the SQLs that are in the
	install/database_schema/upgrade directory that apply to you.  If you are currently on 4.0.1
	and you are upgrading to 4.0.3 you would run 4.0.1_4.0.2.sql and 4.0.2_4.0.3.sql into your
	WRM database.  This probably goes without saying but RUN THEM IN ORDER (4.0.1_4.0.2.sql first
	4.0.2_4.0.3.sql second, etc.).  Do not execute SQLs that do not apply to you.
	IF YOU ARE UPGRADING FROM 3.X or 4.0 BETA TO 4.0.3  YOU SHOULD NOT BE FOLOWING THESE
	INSTRUCTIONS.  Also, if you need to install icons/raids for the Icecrown and ToTC instances 
	please run the corresponding SQLs to add them to your installation.  Do not do this if you 
	have already run these SQLs previously.
* At this point you have upgraded your installation to 4.0.4, please remove your Install 
	directory (delete it completely)
* Change the permissions on your config.php file back to read only to the world (you can 
	leave it writable by your web server if you so choose, but it is recommended that
	you make it read only...(400 permissions in Unix).  Keep the permissions of the other
	files and folders listed above writable.

You should probably go to your configuration section and ensure that you aren't getting an 
error message telling you you're out of date.  If you do, make sure you have upgraded
ALL files.  The most common error experienced in this upgrade is not forceably overwriting
all files or deleting all files in the directory before uploading.  I'm not joking, blow away
your ENTIRE prior installation (other than the config.php file) before uploading.

Installing WRM into a supported CMS system
-----------------------------------------------
At the time of this writing 4.0 supports the following CMS systems:

* e107 from http://www.e107.org
* Joomla from http://www.joomla.org (v1.5 ONLY) (NEW)
* phpBB from http://www.phpbb.com (v2 and v3)
* SMF from http://www.simplemachines.org/ (v1 and v2)
* WBB from http://www.woltlab.com/products/burning_board/index_en.php
* XOOPS from http://www.xoops.org/

Also supported, if you do not have a supported CMS system, is the "iUMS" (previously phpRaid) 
installation, which is the default non-CMS supported installation.  

If you DO intend to install this application into a CMS please note that it is a
REQUIREMENT that you install your WRM database INTO your CMS database, at the
moment you CANNOT separate the databases and have everything work.  

When entering the database information to install to, please ensure that you install
into your CMS database to get CMS integration to work.

===========================================================================================================